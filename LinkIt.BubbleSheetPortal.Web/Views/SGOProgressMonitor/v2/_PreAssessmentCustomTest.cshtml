@using LinkIt.BubbleSheetPortal.Models.SGO
@model LinkIt.BubbleSheetPortal.Web.ViewModels.SGO.DataPointViewModel
<div class="coolfieldset qtiItemSelector fieldset-datapoint" id="fsSelectVirtualTest">
    <div class="divider mt-32 mb-32"></div>
    <p class="fw-bold mb-3">Select LinkIt! Test</p>

    <input type="hidden" name="txtHiddenSubjectName" value="@Model.SubjectName" dataPoint="@Model.DataPointIndex" />
    <input type="hidden" name="txtHiddenGradeId" value="@Model.GradeId" dataPoint="@Model.DataPointIndex" />
    <input type="hidden" name="txtHiddenVirtualTestId" value="@Model.VirtualTestId" dataPoint="@Model.DataPointIndex" />
    <input type="hidden" name="txtHiddenClusterScoreFilters" value="@Model.ClusterScoreFilters" dataPoint="@Model.DataPointIndex" />
    <input type="hidden" name="txtRemainingAjaxRequest" value="1" dataPoint="@Model.DataPointIndex" />
    <input type="hidden" name="txtHiddenScoreType" value="@Model.ScoreType" dataPoint="@Model.DataPointIndex" />
    <input type="hidden" name="txtHiddenSubScoreId" value="@Model.VirtualTestCustomSubScoreId" dataPoint="@Model.DataPointIndex" />

    <div class="columns" id="divItemCriteria">
        <div class="row g-3">
            <div class="col-3">
                <label>@LabelHelper.Subject</label>
                <div class="block-text-name w-100">
                    <select id="selectSubjectPreAssessmentCustom" class="w-100" name="selectSubjectPreAssessmentCustom" datapoint="@Model.DataPointIndex"></select>
                    <div class="box-select">
                        <span class="overlay"></span>
                    </div>
                </div>
            </div>
            <div class="col-3">
                <label>@LabelHelper.GradeLabel</label>
                <div class="block-text-name w-100">
                    <select id="selectGradePreAssessmentCustom" class="w-100" name="selectGradePreAssessmentCustom" datapoint="@Model.DataPointIndex"></select>
                    <div class="box-select">
                        <span class="overlay"></span>
                    </div>
                </div>
            </div>
            <div class="col-3 block-content-dropdown-marquee">
                <label>Test</label>
                <div class="block-text-name w-100">
                    <select id="selectTestPreAssessmentCustom" class="w-100" name="selectTestPreAssessmentCustom" datapoint="@Model.DataPointIndex"></select>
                    <div class="box-select">
                        <span class="overlay"></span>
                    </div>
                </div>
            </div>
            <div class="col-3">
                <label>Score Type</label>
                <div class="block-text-name w-100">
                    <select id="selectScoreTypePreAssessmentCustom" class="w-100" name="selectScoreTypePreAssessmentCustom" datapoint="@Model.DataPointIndex">
                    </select>
                    <div class="box-select">
                        <span class="overlay"></span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<script>
    $(function () {
        // All functions are at index.cshtml file
        $('select[name="selectTestPreAssessmentCustom"]').marquee();
        populateSubjectsPreAssessmentCustom('@Model.DataPointIndex');
        populateScoreTypesPreAssessmentCustom('@Model.DataPointIndex');
    });
</script>
