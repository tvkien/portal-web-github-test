
@using LinkIt.BubbleSheetPortal.Common;
@using LinkIt.BubbleSheetPortal.Common.Enum;
@using LinkIt.BubbleSheetPortal.Models; 
@model LinkIt.BubbleSheetPortal.Web.ViewModels.TestSettingsMap
<link href="@Url.Content("~/Content/themes/base/jquery.ui.datepicker.css")" rel="stylesheet" type="text/css" />
<link href="@Url.Content("~/Content/css/test-schedule.css")" rel="stylesheet" type="text/css" />

<style>
    .accordion-scroll #testSchedule0:not(:checked) {
        margin-left: 6px;
    }

    .w-35 {
        width: 35%;
    }
</style>
<div class="accordion-scroll m-t-15">
    <div id="accordion-assignment-setting" class="accordion w-750">
        <div class="accordion-title active">
            <h3>Navigation/Display</h3>
        </div>
        <div class="accordion-content active">
            <table class="table table-accordion u-w-p-100">
                <tbody>
                    <tr>
                        <td class="w-35 table-accordion-title">
                            Section-Based Testing
                        </td>
                        <td class="w-35">
                            <input type="radio" value="0" name="sectionBasedTesting" /> OFF
                            <input type="radio" value="1" name="sectionBasedTesting" /> ON
                        </td>
                        @if (ViewBag.CurrentLevelId != (int)TestPreferenceLevel.User)
                        {
                            <td></td>
                        }
                    </tr>
                    <tr>
                        <td class="table-accordion-title">Auto Advance</td>
                        <td>
                            <input type="radio" value="0" name="autoAdvanceTest" /> OFF
                            <input type="radio" value="1" name="autoAdvanceTest" /> ON
                        </td>
                        @if (ViewBag.CurrentLevelId != (int)TestPreferenceLevel.User)
                        {
                            <td>
                                <input type="checkbox" id="chklockAutoAdvance" />
                                <label for="chklockAutoAdvance">Lock</label>
                            </td>
                        }
                    </tr>
                    <tr>
                        <td class="table-accordion-title">Must Answer All Questions</td>
                        <td>
                            <input type="radio" value="0" name="mustAnswerAllQuestions" /> OFF
                            <input type="radio" value="1" name="mustAnswerAllQuestions" /> ON
                        </td>
                        @if (ViewBag.CurrentLevelId != (int)TestPreferenceLevel.User)
                        {
                            <td>
                                <input type="checkbox" id="chklockMustAnswerAllQuestions" />
                                <label for="chklockMustAnswerAllQuestions">Lock</label>
                            </td>
                        }
                    </tr>
                    <tr>
                        <td class="table-accordion-title">Can Pause Test</td>
                        <td>
                            <input id="rdcanPauseTestOff" type="radio" value="0" name="canPauseTest" /> OFF
                            <input id="rdcanPauseTestOn" type="radio" value="1" name="canPauseTest" /> ON
                        </td>
                        @if (ViewBag.CurrentLevelId != (int)TestPreferenceLevel.User)
                        {
                            <td>
                                <input type="checkbox" id="chklockCanPauseTest" />
                                <label for="chklockCanPauseTest">Lock</label>
                            </td>
                        }
                    </tr>
                    <tr>
                        <td class="table-accordion-title">Display Answer Labels</td>
                        <td>
                            <input type="checkbox" id="DisplayAnswerLabelSingleSelect" name="DisplayAnswerLabels" />
                            <label for="DisplayAnswerLabelSingleSelect">Single Select</label>
                            <input type="checkbox" id="DisplayAnswerLabelMultiselect" name="DisplayAnswerLabels" />
                            <label for="DisplayAnswerLabelMultiselect">Multi-select</label>
                        </td>
                        @if (ViewBag.CurrentLevelId != (int)TestPreferenceLevel.User)
                        {
                            <td>
                                <input type="checkbox" id="chklockDisplayAnswerLabels" />
                                <label for="chklockDisplayAnswerLabels">Lock</label>
                            </td>
                        }
                    </tr>
                    <tr>
                        <td class="table-accordion-title">
                            Display Question Number
                        </td>
                        <td>
                            <input type="radio" value="0" name="displayQuestionNumber" /> OFF
                            <input type="radio" value="1" name="displayQuestionNumber" /> ON
                        </td>
                        @if (ViewBag.CurrentLevelId != (int)TestPreferenceLevel.User)
                        {
                            <td>
                                <input type="checkbox" id="chklockdisplayQuestionNumber" />
                                <label for="chklockdisplayQuestionNumber">Lock</label>
                            </td>
                        }
                    </tr>
                    <tr>
                        <td class="table-accordion-title">Answer Label Format</td>
                        <td>
                            <input type="radio" value="0" name="answerLabelFormat" /> Letter (A, B, C...)
                            <br>
                            <input type="radio" value="1" name="answerLabelFormat" /> Numbers (1, 2, 3...)
                        </td>
                        @if (ViewBag.CurrentLevelId != (int)TestPreferenceLevel.User)
                        {
                            <td>
                                <input type="checkbox" id="chklockAnswerLabelFormat" />
                                <label for="chklockAnswerLabelFormat">Lock</label>
                            </td>
                        }
                    </tr>

                    @if (!Model.IsSurvey)
                    {
                <tr>
                    <td class="table-accordion-title">Passage Position in Test Taker</td>
                    <td>
                        <input type="radio" value="1" name="passagePositioninTestTaker" /> LEFT
                        <input type="radio" value="0" name="passagePositioninTestTaker" /> RIGHT
                    </td>
                    @if (ViewBag.CurrentLevelId != (int)TestPreferenceLevel.User)
                    {
                        <td>
                            <input type="checkbox" id="chklockPassagePositioninTestTaker" />
                            <label for="chklockPassagePositioninTestTaker">Lock</label>
                        </td>
                    }
                </tr>

                <tr>
                    <td class="table-accordion-title">Display Answer Choice Guidance</td>
                    <td>
                        <input type="radio" value="0" name="displayAnswerChoiceGuidance" /> OFF
                        <input type="radio" value="1" name="displayAnswerChoiceGuidance" /> ON
                    </td>
                    @if (ViewBag.CurrentLevelId != (int)TestPreferenceLevel.User)
                    {
                        <td>
                            <input type="checkbox" id="chklockdisplayAnswerChoiceGuidance" />
                            <label for="chklockdisplayAnswerChoiceGuidance">Lock</label>
                        </td>
                    }
                </tr>
                    }
                    @if (Model.IsSupportQuestionGroup || Model.SettingLevelID == 1)
                    {
                <tr>
                    <td class="table-accordion-title">Question Number Labeling for Grouped Questions</td>
                    <td>
                        <input type="radio" value="0" name="questiongrouplabelschema" /> 1a, 1b, 1c...
                        <input type="radio" value="1" name="questiongrouplabelschema" /> 1.1, 1.2, 1.3...
                    </td>
                    @if (ViewBag.CurrentLevelId != (int)TestPreferenceLevel.User)
                    {
                        <td>
                            <input type="checkbox" id="chklockquestiongrouplabelschema" />
                            <label for="chklockquestiongrouplabelschema">Lock</label>
                        </td>
                    }
                </tr>

                <tr>
                    <td class="table-accordion-title">Question Group Multiple Choices Numbering</td>
                    <td>
                        <input type="radio" value="0" name="questiongroupmultiplechoicesnumbering" /> Restart
                        <input type="radio" value="1" name="questiongroupmultiplechoicesnumbering" /> Continue
                    </td>
                    @if (ViewBag.CurrentLevelId != (int)TestPreferenceLevel.User)
                    {
                        <td>
                            <input type="checkbox" id="chklockquestiongroupmultiplechoicesnumbering" />
                            <label for="chklockquestiongroupmultiplechoicesnumbering">Lock</label>
                        </td>
                    }
                </tr>
                    }
                </tbody>
            </table>
        </div>

        @if (!Model.IsSurvey)
        {
            <div class="accordion-title">
                <h3>Security and Privacy</h3>
            </div>
            <div class="accordion-content">
                <table class="table table-accordion u-w-p-100">
                    <tbody>
                        <tr>
                            <td class="w-35 table-accordion-title">@LocalizeHelper.Localized("STUDENT_AGREEMENT_TITLE")</td>
                            <td class="w-35">
                                <input type="radio" value="0" name="requireHonorCode" /> OFF
                                <input type="radio" value="1" name="requireHonorCode" /> ON
                            </td>
                            @if (ViewBag.CurrentLevelId != (int)TestPreferenceLevel.User)
                            {
                                <td>
                                    <input type="checkbox" id="chklockRequireHonorCode" />
                                    <label for="chkRequireHonorCode">Lock</label>
                                </td>
                            }
                        </tr>
                        <tr>
                            <td class="w-35 table-accordion-title">Require Password</td>
                            <td class="w-35">
                                <input type="radio" value="0" name="verifyStudent" /> OFF
                                <input type="radio" value="1" name="verifyStudent" /> ON
                            </td>
                            @if (ViewBag.CurrentLevelId != (int)TestPreferenceLevel.User)
                            {
                                <td class="">
                                    <input type="checkbox" id="chklockVerifyStudent" />
                                    <label for="chklockVerifyStudent">Lock</label>
                                </td>
                            }
                        </tr>
                        <tr>
                            <td class="table-accordion-title">Shuffle Questions</td>
                            <td>
                                <input type="radio" value="0" name="shuffleQuestions" /> OFF
                                <input type="radio" value="1" name="shuffleQuestions" /> ON
                            </td>
                            @if (ViewBag.CurrentLevelId != (int)TestPreferenceLevel.User)
                            {
                                <td>
                                    <input type="checkbox" id="chklockShuffleQuestions" />
                                    <label for="chklockShuffleQuestions">Lock</label>
                                </td>
                            }
                        </tr>
                        <tr>
                            <td class="table-accordion-title">Shuffle Multiple Choice Answers</td>
                            <td>
                                <input type="radio" value="0" name="shuffleAnswers" /> OFF
                                <input type="radio" value="1" name="shuffleAnswers" /> ON
                            </td>
                            @if (ViewBag.CurrentLevelId != (int)TestPreferenceLevel.User)
                            {
                                <td>
                                    <input type="checkbox" id="chklockShuffleAnswers" />
                                    <label for="chklockShuffleAnswers">Lock</label>
                                </td>
                            }
                        </tr>
                        <tr>
                            <td class="table-accordion-title">
                                Full Screen Browser Mode
                            </td>
                            <td>
                                <input id="rdlockedDownTestTakerOff" type="radio" value="0" name="lockedDownTestTaker" /> OFF
                                <input id="rdlockedDownTestTakerOn" type="radio" value="1" name="lockedDownTestTaker" /> ON
                            </td>
                            @if (ViewBag.CurrentLevelId != (int)TestPreferenceLevel.User)
                            {
                                <td>
                                    <input type="checkbox" id="chklockLockedDownTestTaker" />
                                    <label for="chklockLockedDownTestTaker">Lock</label>
                                </td>
                            }
                        </tr>
                        <tr>
                            <td class="table-accordion-title">
                                Override Auto Graded Items
                            </td>
                            <td>
                                <input type="radio" value="0" name="overrideAutoGradedTextEntry" /> OFF
                                <input type="radio" value="1" name="overrideAutoGradedTextEntry" /> ON
                            </td>
                            @if (ViewBag.CurrentLevelId != (int)TestPreferenceLevel.User)
                            {
                                <td>
                                    <input type="checkbox" id="chklockOverrideAutoGradedTextEntry" />
                                    <label for="chklockOverrideAutoGradedTextEntry">Lock</label>
                                </td>
                            }
                        </tr>
                        <tr>
                            <td class="table-accordion-title">
                                Browser Lockdown Mode
                            </td>
                            <td>
                                <input id="rdbrowserLockdownModeOff" type="radio" value="0" name="browserLockdownMode" /> OFF
                                <input id="rdbrowserLockdownModeOn" type="radio" value="1" name="browserLockdownMode" /> ON
                            </td>
                            @if (ViewBag.CurrentLevelId != (int)TestPreferenceLevel.User)
                            {
                                <td>
                                    <input type="checkbox" id="chkLockBrowserLockdownMode" />
                                    <label for="chkLockBrowserLockdownMode">Lock</label>
                                </td>
                            }
                        </tr>
                        <tr>
                            <td class="table-accordion-title">
                                Anonymized Scoring
                            </td>
                            <td>
                                <input id="rdAnonymizedScoringOff" type="radio" value="0" name="anonymizedScoring" /> OFF
                                <input id="rdAnonymizedScoringOn" type="radio" value="1" name="anonymizedScoring" /> ON
                            </td>
                            @if (ViewBag.CurrentLevelId != (int)TestPreferenceLevel.User)
                            {
                                <td>
                                    <input type="checkbox" id="chkLockAnonymizedScoring" />
                                    <label for="chkLockAnonymizedScoring">Lock</label>
                                </td>
                            }
                        </tr>
                    </tbody>
                </table>
            </div>
        }

        <div class="accordion-title">
            <h3>Accommodations</h3>
        </div>
        <div class="accordion-content">
            <table class="table table-accordion u-w-p-100">
                <tbody>
                    <tr>
                        <td class="w-35 table-accordion-title">Time Limit</td>
                        <td class="w-35">
                            <input id="rdTimeLimitOFF" type="radio" value="0" name="timeLimit" /> OFF
                            <input id="rdTimeLimitON" type="radio" value="1" name="timeLimit" /> ON
                            @Html.Hidden("hdfDurationId", Model.Duration)
                            @Html.Hidden("hdfDdeadlineId", Model.Deadline)
                            <div id="idTimeLimitON" style="padding-top: 10px; display: none;">
                                <input id="enableDurationOption" name="TimeLimitON" type="radio" title="Duration" checked="checked" />
                                Duration
                                <input id="enableDeadline" name="TimeLimitON" type="radio" title="Deadline" />
                                Deadline
                            </div>
                            <div class="clear" style="height: 10px"></div>
                            <div id="divDuration" style="float: left;display: none;">
                                <input id="durationId" type="text" maxlength="6" style="width: 105px;" />
                                Minutes
                                <div id="showTimeLimitWarningON" style="display: block; clear: both; padding-top: 21px;">
                                    <input type="radio" value="1" name="timeLimitDurationType" checked="checked"> Time Remaining
                                    <input type="radio" value="2" name="timeLimitDurationType"> Time Spent
                                </div>
                            </div>
                            <div id="divDeadline" style="float: left; display: none;">
                                <input type="text" id="selectDeadline" class="datepicker" style="width: 105px;" readonly="readonly" />
                                <select id="selectHouse" style="min-width: 50px !important;">
                                    <option value="0">12 AM</option>
                                    <option value="1">1 AM</option>
                                    <option value="2">2 AM</option>
                                    <option value="3">3 AM</option>
                                    <option value="4">4 AM</option>
                                    <option value="5">5 AM</option>
                                    <option value="6">6 AM</option>
                                    <option value="7">7 AM</option>
                                    <option value="8">8 AM</option>
                                    <option value="9">9 AM</option>
                                    <option value="10">10 AM</option>
                                    <option value="11">11 AM</option>
                                    <option value="12">12 PM</option>
                                    <option value="13">1 PM</option>
                                    <option value="14">2 PM</option>
                                    <option value="15">3 PM</option>
                                    <option value="16">4 PM</option>
                                    <option value="17">5 PM</option>
                                    <option value="18">6 PM</option>
                                    <option value="19">7 PM</option>
                                    <option value="20">8 PM</option>
                                    <option value="21">9 PM</option>
                                    <option value="22">10 PM</option>
                                    <option value="23">11 PM</option>
                                </select>
                                <select id="selectMunite" style="min-width: 50px !important;"></select>
                            </div>
                        </td>
                        @if (ViewBag.CurrentLevelId != (int)TestPreferenceLevel.User)
                        {
                            <td>
                                <input type="checkbox" id="chklockTimeLimit" />
                                <label for="chklockTimeLimit">Lock</label>
                            </td>
                        }
                    </tr>

                    <tr id="trShowTimeLimitWarning">
                        <td class="table-accordion-title">
                            Show Time Limit Warning
                        </td>
                        <td>
                            <input type="radio" value="0" name="showTimeLimitWarning" /> OFF
                            <input type="radio" value="1" name="showTimeLimitWarning" /> ON
                        </td>
                        @if (ViewBag.CurrentLevelId != (int)TestPreferenceLevel.User)
                        {
                            <td>
                                <input type="checkbox" id="chklockShowTimeLimitWarning" />
                                <label for="chklockShowTimeLimitWarning">Lock</label>
                            </td>
                        }
                    </tr>
                    <tr id="trShowTimeLimitWarning1" style="display: none;">
                        <td class="table-accordion-title"></td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr style="display:none"></tr>
                    @Html.Partial("_TestSchedule") @*TestScheduleStep 1*@

                <tr>
                    <td class="table-accordion-title">Multiple Choice Click Method</td>
                    <td>
                        <input type="radio" value="0" name="multipleChoiceClickMethod" /> Click Button
                        <br>
                        <input type="radio" value="1" name="multipleChoiceClickMethod" /> Click Answer
                        <br>
                        <input type="radio" value="2" name="multipleChoiceClickMethod" /> Click Answer and Button
                    </td>
                    @if (ViewBag.CurrentLevelId != (int)TestPreferenceLevel.User)
                    {
                        <td>
                            <input type="checkbox" id="chklockMultipleChoiceClickMethod" />
                            <label for="chklockMultipleChoiceClickMethod">Lock</label>
                        </td>
                    }
                </tr>
                <tr>
                    <td class="table-accordion-title">Enable Video Controls</td>
                    <td>
                        <input type="radio" value="0" name="enableVideoControls" /> OFF
                        <input type="radio" value="1" name="enableVideoControls" /> ON
                    </td>
                    @if (ViewBag.CurrentLevelId != (int)TestPreferenceLevel.User)
                    {
                        <td>
                            <input type="checkbox" id="chklockEnableVideoControls" />
                            <label for="chklockEnableVideoControls">Lock</label>
                        </td>
                    }
                </tr>
                <tr>
                    <td class="table-accordion-title">
                        Enable Audio
                    </td>
                    <td>
                        <input type="radio" value="0" name="enableAudio" /> OFF
                        <br>
                        <input type="radio" value="2" name="enableAudio" /> Simple Audio
                        <br>
                        <input type="radio" value="1" name="enableAudio" />  Advanced Audio
                    </td>
                    @if (ViewBag.CurrentLevelId != (int)TestPreferenceLevel.User)
                    {
                        <td>
                            <input type="checkbox" id="chklockEnableAudio" />
                            <label for="chklockEnableAudio">Lock</label>
                        </td>
                    }
                </tr>
                <tr>
                    <td class="table-accordion-title">
                        Font Size
                    </td>
                    <td>
                        <input type="radio" value="0" name="supportFontsize" /> OFF
                        <input type="radio" value="1" name="supportFontsize" /> ON
                    </td>
                    @if (ViewBag.CurrentLevelId != (int)TestPreferenceLevel.User)
                    {
                        <td>
                            <input type="checkbox" id="chklocksupportFontsize" />
                            <label for="chklocksupportFontsize">Lock</label>
                        </td>
                    }
                </tr>
                <tr>
                    <td class="table-accordion-title">
                        Zoom
                    </td>
                    <td>
                        <input type="radio" value="0" name="supportZoom" /> OFF
                        <input type="radio" value="1" name="supportZoom" /> ON
                    </td>
                    @if (ViewBag.CurrentLevelId != (int)TestPreferenceLevel.User)
                    {
                        <td>
                            <input type="checkbox" id="chklocksupportZoom" />
                            <label for="chklocksupportZoom">Lock</label>
                        </td>
                    }
                </tr>
                <tr>
                    <td class="table-accordion-title">
                        Contrast
                    </td>
                    <td>
                        <input type="radio" value="0" name="supportContrast" /> OFF
                        <input type="radio" value="1" name="supportContrast" /> ON
                    </td>
                    @if (ViewBag.CurrentLevelId != (int)TestPreferenceLevel.User)
                    {
                        <td>
                            <input type="checkbox" id="chklocksupportContrast" />
                            <label for="chklocksupportContrast">Lock</label>
                        </td>
                    }
                </tr>
                <tr>
                    <td class="table-accordion-title">
                        Line Reader
                    </td>
                    <td>
                        <input type="radio" value="0" name="supportLineReader" /> OFF
                        <input type="radio" value="1" name="supportLineReader" /> ON
                    </td>
                    @if (ViewBag.CurrentLevelId != (int)TestPreferenceLevel.User)
                    {
                        <td>
                            <input type="checkbox" id="chklocksupportLineReader" />
                            <label for="chklocksupportLineReader">Lock</label>
                        </td>
                    }
                </tr>
                <tr>
                    <td class="table-accordion-title">
                        Enable Text-To-Speech
                    </td>
                    <td>
                        <input id="rdTextToSpeedOptionOff" type="radio" value="0" name="displayTexttospeechOption" /> OFF
                        <br>
                        <input id="rdTextToSpeedOptionOn" type="radio" value="1" name="displayTexttospeechOption" />  All Content
                        <br>

                        @if (!Model.IsSurvey)
                        {
                            <input id="rdTextToSpeedOptionOnPassage" type="radio" value="2" name="displayTexttospeechOption" /> <label>Passage Only</label>
                            <br />
                        }
                        <input id="rdTextToSpeedOptionOnQuestion" type="radio" value="3" name="displayTexttospeechOption" /> Instructions/Questions Only
                        <div class="clear" style="height: 10px"></div>
                        <div id="idTestToSpeedOptionON" style="float: left; display: none;">
                            Rate
                            <select id="selectRate" style="min-width: 50px !important;">
                                <option value="0.8">Normal </option>
                                <option value="0.7">Slow</option>
                            </select>
                            Volume
                            <select id="selectVolume" style="min-width: 50px !important;">
                                <option value="0.0">0</option>
                                <option value="0.1">1</option>
                                <option value="0.2">2</option>
                                <option value="0.3">3</option>
                                <option value="0.4">4</option>
                                <option value="0.5">5</option>
                                <option value="0.6">6</option>
                                <option value="0.7">7</option>
                                <option value="0.8">8</option>
                                <option value="0.9">9</option>
                                <option value="1">10</option>
                            </select>
                        </div>
                    </td>
                    @if (ViewBag.CurrentLevelId != (int)TestPreferenceLevel.User)
                    {
                        <td>
                            <input type="checkbox" id="chklockdisplayTexttospeechOption" />
                            <label for="chklockdisplayTexttospeechOption">Lock</label>
                        </td>
                    }
                </tr>
                </tbody>
            </table>
        </div>

        @if (!Model.IsSurvey)
        {
            <div class="accordion-title">
                <h3>Tools</h3>
            </div>
            <div class="accordion-content">
                <table class="table table-accordion u-w-p-100">
                    <tbody>
                        <tr>
                            <td class="w-35 table-accordion-title">Basic Science Palette</td>
                            <td class="w-35">
                                <input type="radio" value="0" name="simplePalette" /> OFF
                                <input type="radio" value="1" name="simplePalette" /> ON
                            </td>
                            @if (ViewBag.CurrentLevelId != (int)TestPreferenceLevel.User)
                            {
                                <td>
                                    <input type="checkbox" id="chklocksimplePalette" />
                                    <label for="chklocksimplePalette">Lock</label>
                                </td>
                            }
                        </tr>
                        <tr>
                            <td class="w-35 table-accordion-title">Math/Science Palette</td>
                            <td class="w-35">
                                <input type="radio" value="0" name="mathPalette" /> OFF
                                <input type="radio" value="1" name="mathPalette" /> ON
                            </td>
                            @if (ViewBag.CurrentLevelId != (int)TestPreferenceLevel.User)
                            {
                                <td>
                                    <input type="checkbox" id="chklockmathPalette" />
                                    <label for="chklockmathPalette">Lock</label>
                                </td>
                            }
                        </tr>
                        <tr>
                            <td class="table-accordion-title">Spanish Palette</td>
                            <td>
                                <input type="radio" value="0" name="spanishPalette" /> OFF
                                <input type="radio" value="1" name="spanishPalette" /> ON
                            </td>
                            @if (ViewBag.CurrentLevelId != (int)TestPreferenceLevel.User)
                            {
                                <td>
                                    <input type="checkbox" id="chklockspanishPalette" />
                                    <label for="chklockspanishPalette">Lock</label>
                                </td>
                            }
                        </tr>
                        <tr>
                            <td class="table-accordion-title">French Palette</td>
                            <td>
                                <input type="radio" value="0" name="frenchPalette" /> OFF
                                <input type="radio" value="1" name="frenchPalette" /> ON
                            </td>
                            @if (ViewBag.CurrentLevelId != (int)TestPreferenceLevel.User)
                            {
                                <td>
                                    <input type="checkbox" id="chklockfrenchPalette" />
                                    <label for="chklockfrenchPalette">Lock</label>
                                </td>
                            }
                        </tr>
                        <tr>
                            <td class="table-accordion-title">Protractor</td>
                            <td>
                                <input type="radio" value="0" name="protractor" /> OFF
                                <input type="radio" value="1" name="protractor" /> ON
                            </td>
                            @if (ViewBag.CurrentLevelId != (int)TestPreferenceLevel.User)
                            {
                                <td>
                                    <input type="checkbox" id="chklockprotractor" />
                                    <label for="chklockprotractor">Lock</label>
                                </td>
                            }
                        </tr>
                        <tr>
                            <td class="table-accordion-title">6" Ruler</td>
                            <td>
                                <input type="radio" value="0" name="ruler6inch" /> OFF
                                <input type="radio" value="1" name="ruler6inch" /> ON
                            </td>
                            @if (ViewBag.CurrentLevelId != (int)TestPreferenceLevel.User)
                            {
                                <td>
                                    <input type="checkbox" id="chklockprotractor6inch" />
                                    <label for="chklockprotractor6inch">Lock</label>
                                </td>
                            }
                        </tr>
                        <tr>
                            <td class="table-accordion-title">12" Ruler</td>
                            <td>
                                <input type="radio" value="0" name="ruler12inch" /> OFF
                                <input type="radio" value="1" name="ruler12inch" /> ON
                            </td>
                            @if (ViewBag.CurrentLevelId != (int)TestPreferenceLevel.User)
                            {
                                <td>
                                    <input type="checkbox" id="chklockprotractor12inch" />
                                    <label for="chklockprotractor12inch">Lock</label>
                                </td>
                            }
                        </tr>
                        <tr>
                            <td class="table-accordion-title">15cm Ruler</td>
                            <td>
                                <input type="radio" value="0" name="ruler15cm" /> OFF
                                <input type="radio" value="1" name="ruler15cm" /> ON
                            </td>
                            @if (ViewBag.CurrentLevelId != (int)TestPreferenceLevel.User)
                            {
                                <td>
                                    <input type="checkbox" id="chklockprotractor15cm" />
                                    <label for="chklockprotractor15cm">Lock</label>
                                </td>
                            }
                        </tr>
                        <tr>
                            <td class="table-accordion-title">30cm Ruler</td>
                            <td>
                                <input type="radio" value="0" name="ruler30cm" /> OFF
                                <input type="radio" value="1" name="ruler30cm" /> ON
                            </td>
                            @if (ViewBag.CurrentLevelId != (int)TestPreferenceLevel.User)
                            {
                                <td>
                                    <input type="checkbox" id="chklockprotractor30cm" />
                                    <label for="chklockprotractor30cm">Lock</label>
                                </td>
                            }
                        </tr>
                        <tr>
                            <td class="table-accordion-title">
                                Standard Calculator
                            </td>
                            <td>
                                <input type="radio" value="0" name="supportCalculator" /> OFF
                                <input type="radio" value="1" name="supportCalculator" /> ON
                            </td>
                            @if (ViewBag.CurrentLevelId != (int)TestPreferenceLevel.User)
                            {
                                <td>
                                    <input type="checkbox" id="chklockSupportCalculator" />
                                    <label for="chklockSupportCalculator">Lock</label>
                                </td>
                            }
                        </tr>
                        <tr>
                            <td class="table-accordion-title">
                                Scientific Calculator
                            </td>
                            <td>
                                <input type="radio" value="0" name="scientificCalculator" /> OFF
                                <input type="radio" value="1" name="scientificCalculator" /> ON
                            </td>
                            @if (ViewBag.CurrentLevelId != (int)TestPreferenceLevel.User)
                            {
                                <td>
                                    <input type="checkbox" id="chkLockScientificCalculator" />
                                    <label for="chkLockScientificCalculator">Lock</label>
                                </td>
                            }
                        </tr>
                        @if (ViewBag.HideSupportHighlightText != null && ViewBag.HideSupportHighlightText == "false")
                        {<text>
                                                <tr>
                                                    <td class="table-accordion-title">
                                                        Support Highlight Text
                                                    </td>
                                                    <td>
                                                        <input type="radio" value="0" name="supportHighlightText" /> OFF
                                                        <input type="radio" value="1" name="supportHighlightText" /> ON
                                                        <input type="radio" value="2" name="supportHighlightText" /> ON ( Only Student )
                                                    </td>
                                                    @if (ViewBag.CurrentLevelId != (int)TestPreferenceLevel.User)
                                                    {
                                                        <td>
                                                            <input type="checkbox" id="chklockSupportHighlightText" />
                                                            <label for="chklockSupportHighlightText">Lock</label>
                                                        </td>
                                                    }
                                                </tr>
                        </text>}
                    <tr>
                        <td class="table-accordion-title">
                            Eliminate Choice Tool
                        </td>
                        <td>
                            <input type="radio" value="0" name="eliminateChoiceTool" /> OFF
                            <input type="radio" value="1" name="eliminateChoiceTool" /> ON
                        </td>
                        @if (ViewBag.CurrentLevelId != (int)TestPreferenceLevel.User)
                        {
                            <td>
                                <input type="checkbox" id="chklockEliminateChoiceTool" />
                                <label for="chklockEliminateChoiceTool">Lock</label>
                            </td>
                        }
                    </tr>
                    <tr>
                        <td class="table-accordion-title">
                            Flag Item Tool
                        </td>
                        <td>
                            <input type="radio" value="0" name="flagItemTool" /> OFF
                            <input type="radio" value="1" name="flagItemTool" /> ON
                        </td>
                        @if (ViewBag.CurrentLevelId != (int)TestPreferenceLevel.User)
                        {
                            <td>
                                <input type="checkbox" id="chklockFlagItemTool" />
                                <label for="chklockFlagItemTool">Lock</label>
                            </td>
                        }
                    </tr>
                    <tr>
                        <td class="table-accordion-title">
                            Equation Editor
                        </td>
                        <td>
                            <input type="radio" value="0" name="equationeditor" /> OFF
                            <input type="radio" value="1" name="equationeditor" /> ON
                        </td>
                        @if (ViewBag.CurrentLevelId != (int)TestPreferenceLevel.User)
                        {
                            <td>
                                <input type="checkbox" id="chklockEquationeditor" />
                                <label for="chklockEquationeditor">Lock</label>
                            </td>
                        }
                    </tr>
                    <tr>
                        <td class="table-accordion-title">
                            Drawing Tool
                        </td>
                        <td>
                            <input type="radio" value="0" name="drawingTool" /> Free Formatted
                            <input type="radio" value="1" name="drawingTool" /> Graphing and Labeling
                        </td>
                        @if (ViewBag.CurrentLevelId != (int)TestPreferenceLevel.User)
                        {
                            <td>
                                <input type="checkbox" id="chklockDrawingTool" />
                                <label for="chklockDrawingTool">Lock</label>
                            </td>
                        }
                    </tr>
                    </tbody>
                </table>
            </div>
        }

        <div class="accordion-title">
            <h3>Other</h3>
        </div>
        <div class="accordion-content">
            <table class="table table-accordion u-w-p-100">
                <tbody>
                    @if (!Model.IsSurvey)
                    {
                        <tr>
                            <td class="w-35 table-accordion-title">
                                Can Review Test
                            </td>
                            <td class="w-35">
                                <input type="radio" value="0" name="canReviewTest" /> OFF
                                <input type="radio" value="1" name="canReviewTest" /> ON
                            </td>
                            @if (ViewBag.CurrentLevelId != (int)TestPreferenceLevel.User)
                            {
                                <td>
                                    <input type="checkbox" id="chklockCanReviewTest" />
                                    <label for="chklockCanReviewTest">Lock</label>
                                </td>
                            }
                        </tr>
                        <tr>
                            <td class="table-accordion-title">Hide Correct Answers and Grading Results in Student Review</td>
                            <td>
                                <input type="radio" value="0" name="hideCorrectAnswerAndGrading" /> OFF
                                <input type="radio" value="1" name="hideCorrectAnswerAndGrading" /> ON
                            </td>
                            @if (ViewBag.CurrentLevelId != (int)TestPreferenceLevel.User)
                            {
                                <td>
                                    <input type="checkbox" id="chklockhideCorrectAnswerAndGrading" />
                                    <label for="chklockhideCorrectAnswerAndGrading">Lock</label>
                                </td>
                            }
                        </tr>
                        if (Model.TestExtractOptions.IsUseTestExtract || Model.SettingLevelID == 1)
                        {
                            <tr>
                                <td class="table-accordion-title">
                                    Test Extract
                                </td>

                                @if (Model.SettingLevelID == 1)
                                {
                                    <td>
                                        <input type="radio" value="0" name="testExtract" id="testExtract" /> <label for="testExtract">OFF</label>
                                        <input type="radio" value="1" name="testExtract" id="testExtract" /> <label for="testExtract">ON</label>
                                    </td>
                                }
                                else
                                {
                                    <td>
                                        @if (Model.TestExtractOptions.CleverApi || Model.SettingLevelID == 1)
                                        {
                                            <input type="radio" value="0" name="testExtract_clever" id="testExtract_clever" /> <label for="testExtract_clever">OFF</label>
                                            <input type="radio" value="1" name="testExtract_clever" id="testExtract_clever" /> <label for="testExtract_clever">ON</label>
                                        }
                                        else
                                        {
                                            if (Model.TestExtractOptions.Gradebook || Model.SettingLevelID == 1)
                                            {
                                                <input type="checkbox" value="0" name="testExtract_gradebook" id="testExtract_gradebook" /> <label for="testExtract_gradebook">Gradebook</label>
                                            }
                                            if (Model.TestExtractOptions.StudentRecord || Model.SettingLevelID == 1)
                                            {
                                                <input type="checkbox" value="0" name="testExtract_studentRecord" id="testExtract_studentRecord" /> <label for="testExtract_studentRecord">Student Record</label>
                                            }
                                        }
                                    </td>
                                }
                                @if (ViewBag.CurrentLevelId != (int)TestPreferenceLevel.User)
                                {
                                    <td>
                                        <input type="checkbox" id="chklockTestExtract" />
                                        <label for="chklockTestExtract">Lock</label>
                                    </td>
                                }
                            </tr>
                            if (Model.TestExtractOptions.ShowRawOrPercentOption)
                            {
                                <tr>
                                    <td class="w-370 table-accordion-title">Exported Score</td>
                                    <td class="w-380">
                                        <input type="radio" value="0" name="testExtractExportRawScore" /> Percent
                                        <input type="radio" value="1" name="testExtractExportRawScore" /> Raw
                                    </td>
                                    @if (ViewBag.CurrentLevelId != (int)TestPreferenceLevel.User)
                                    {
                                        <td class="w-130">
                                            <input type="checkbox" id="chklockTestExtractExportRawScore" />
                                            <label for="chkestExtractExportRawScore">Lock</label>
                                        </td>
                                    }
                                </tr>
                            }
                        }
                        if (Model.VirtualTestSubTypeID == 4 || Model.SettingLevelID == 1)
                        {
                            <tr>
                                <td class="table-accordion-title">
                                    Adaptive Test
                                </td>
                                <td>
                                    <input type="radio" value="0" name="adaptiveTest" /> OFF
                                    <input type="radio" value="1" name="adaptiveTest" /> ON
                                </td>
                                @if (ViewBag.CurrentLevelId != (int)TestPreferenceLevel.User)
                                {
                                    <td>
                                        <input type="checkbox" id="chklockAdaptiveTest" />
                                        <label for="chklockAdaptiveTest">Lock</label>
                                    </td>
                                }
                            </tr>
                        }
                    }


                    <tr>
                        <td class="w-35 table-accordion-title">
                            Show Test Instructions
                        </td>
                        <td class="w-35">
                            <input type="hidden" value="0" name="branchingTest" checked="checked" />
                            <input type="radio" value="0" name="showTestInstructions" /> OFF
                            <input type="radio" value="1" name="showTestInstructions" /> ON
                        </td>
                        @if (ViewBag.CurrentLevelId != (int)TestPreferenceLevel.User)
                        {
                            <td>
                                <input type="checkbox" id="chklockshowTestInstructions" />
                                <label for="chklockshowTestInstructions">Lock</label>
                            </td>
                        }
                    </tr>
                    <tr>
                        <td class="table-accordion-title">
                            Show Incomplete Answer Warning
                        </td>
                        <td>
                            <input type="radio" value="0" name="showIncompleteAnswerWarning" /> OFF
                            <input type="radio" value="1" name="showIncompleteAnswerWarning" /> ON
                        </td>
                        @if (ViewBag.CurrentLevelId != (int)TestPreferenceLevel.User)
                        {
                            <td>
                                <input type="checkbox" id="chklockshowIncompleteAnswerWarning" />
                                <label for="chklockshowIncompleteAnswerWarning">Lock</label>
                            </td>
                        }
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

<button class="float-right w70" id="btnTestSettingSubmit" type="button" disabled>Apply</button>

<script>
    $(function () {
        $("#selectDeadline").datepicker({
            dateFormat: '@ViewBag.DateFormat' ? '@ViewBag.DateFormat' : 'M d, yy',
            beforeShow: function (input) {
                $(input).css({
                    "position": "relative",
                    "z-index": '2000'
                });

                var tagActive = $(input).parents('body').find('#ui-datepicker-div');
                tagActive.find('.ui-state-highlight').css('min-height', 'auto');
                tagActive.addClass('customCssDataPickerPreference');
            }
        });

        $("#durationId").keydown(function (event) {
            if (event.shiftKey) {
                event.preventDefault();
            }
            if ((event.keyCode == 110 || event.keyCode == 190) && $('#durationId').val().indexOf('.') >= 0) {
                event.preventDefault();
                return;
            }
            if (event.keyCode == 46 || event.keyCode == 8 || event.keyCode == 110 || event.keyCode == 190) {
            } else {
                if (event.keyCode < 95) {
                    if (event.keyCode < 48 || event.keyCode > 57) {
                        event.preventDefault();
                    }
                } else {
                    if (event.keyCode < 96 || event.keyCode > 105) {
                        event.preventDefault();
                    }
                }
            }
        });

        InitTime();

        $('#rdTimeLimitOFF').click(function () {
            $('#idTimeLimitON').hide();
            $('#divDuration').hide();
            $('#divDeadline').hide();
            $('#trShowTimeLimitWarning').hide();
            //\
            var row = '<tr id="trShowTimeLimitWarning1" style="display: none;"><td></td><td></td></tr>';
            $("#trShowTimeLimitWarning").closest("tr").after(row);
        });

        $('#rdTimeLimitON').click(function () {
            $('#idTimeLimitON').show();
            if ($('#enableDurationOption:checked').length > 0) {
                $('#divDuration').show();
                $('#divDeadline').hide();
            } else {
                $('#divDuration').hide();
                $('#divDeadline').show();
            }
            $('#trShowTimeLimitWarning1').remove();
            $('#trShowTimeLimitWarning').show();

        });

        $('#enableDurationOption').click(function () {
            $('#divDuration').show();
            $('#divDeadline').hide();
        });

        $('#enableDeadline').click(function () {
            $('#divDuration').hide();
            $('#divDeadline').show();
        });

        $('#rdTextToSpeedOptionOff').click(function () {
            $('#idTestToSpeedOptionON').hide();

        });
        $('#rdTextToSpeedOptionOn').click(function () {
            $('#idTestToSpeedOptionON').show();
            $('#selectVolume').val(0.5);
        });
        $('#rdTextToSpeedOptionOnPassage, #rdTextToSpeedOptionOnQuestion').click(function () {
             if($(this).attr('id') === 'rdTextToSpeedOptionOnQuestion') {
                $('#idTestToSpeedOptionON').css({
                    'left': '0',
                    'position': 'relative'
                });
            } else {
                $('#idTestToSpeedOptionON').css({
                    'left': '0',
                    'position': 'static'
                });
            }
            $('#idTestToSpeedOptionON').show();
            $('#selectVolume').val(0.5);
        });
    });

    function InitTime() {
        $('#selectMunite').empty();
        for (i = 0; i < 60; i++) {
            var text = i.toString();
            if (i < 10) {
                text = '0' + i;
            }
            var option = new Option(text, i);
            $('#selectMunite').append($(option));
        }
    }

    function checkNullMinutes() {
        if ($("#durationId").val().length == 0) {
            $("#durationId").val('1');
        }
    }
</script>

<script type="text/javascript">
    (function ($) {
        'use strict';

        $('#accordion-assignment-setting .accordion-title').on('click', function () {
            var $self = $(this);
            var $accordionContent = $self.next();

            if ($self.hasClass('active')) {
                $self.removeClass('active');
                $accordionContent.slideUp();
            } else {
                $self.addClass('active');
                $accordionContent.slideDown();
            }
        });
    }(jQuery));
</script>

<script>
    testPreferenceModel = @Html.Raw(Json.Encode(Model.TestPreferenceModel));
    // TestScheduleStep 4
    $('#lastUpdateInfor').empty();
    if ('@ViewBag.LastUpdatedDate' && '@ViewBag.LastUpdatedDate' != '') {
        $('#lastUpdateInfor').append('<label>Last Update: @ViewBag.LastUpdatedDate</label>');
    }
    testSchedule.init(testPreferenceModel.OptionTags, $('#selectSettingType').val());

    $(function () {
        FillDataToLayout($('#selectSettingType').val());

        if ('@Model.CanEditOverrideAutoGradedItems' == 'False' || $('#selectSettingType').val() == preferece_level.TEST_DESGIN || '@ViewBag.IsTeacherOrSchoolAdmin' == 'True') {
            $('input[name="overrideAutoGradedTextEntry"]').attr('disabled', 'disabled');
        }

    });
</script>
<script src="@Url.Content("~/Scripts/TestPreferences/testPreferencesEvents.js")" type="text/javascript"></script>
