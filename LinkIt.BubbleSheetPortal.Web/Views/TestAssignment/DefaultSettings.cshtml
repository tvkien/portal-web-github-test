@using LinkIt.BubbleSheetPortal.Common;
@using LinkIt.BubbleSheetPortal.Common.Enum;
@model LinkIt.BubbleSheetPortal.Web.ViewModels.TestSettingsMap
@{
    var hidden = ViewBag.AllowAdjustTestChedule != null && ViewBag.AllowAdjustTestChedule == true ? "" : "hidden";

}
<style>
    .w-35 {
        width: 35%;
    }

    .w-30 {
        width: 30%;
    }

    .sectionLvl-hide {
        display: none !important;
    }

    .cb__sectionLevel {
        display: inline-block;
        margin-left: 15px;
    }

    .sectionsAvailabilityList1 {
        padding-left: 40px;
    }

        .sectionsAvailabilityList1 table {
            width: 100%;
        }

    .sectionsAvailabilityList1_Edit {
        padding-left: 40px;
    }

        .sectionsAvailabilityList1_Edit table {
            width: 100%;
        }

    .testPreferences__panel {
        margin-top: 15px;
        font-weight: 700;
        display: inline-block;
    }

    .btn__setting {
        background: #eee;
        color: #39c;
        cursor: pointer;
        border-radius: 6px 6px 0px 0px;
        padding: 10px 5px;
        font-size: 10pt;
        border-right: 1px solid #3399cc;
        width: 135px;
        text-align: center;
        display: block;
        float: left;
    }

        .btn__setting span {
            display: block;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            box-sizing: border-box;
        }

        .btn__setting:last-child {
            border-right: 0;
        }

    .sections__main1 {
        display: none;
    }

    .sections__wrapper--inner {
        min-height: 200px;
        position: relative;
    }

    .flex_space-bettween {
        display: flex;
        justify-content: space-between;
    }

    .wrapper__testSchedule .first_title {
        width: 30% !important;
    }

    .btn__setting.active__state {
        background: #4d93c5;
        border-bottom: none;
        color: #fff;
        background: -webkit-gradient( linear, left top, left bottom, from(white), to(#0c5fa5), color-stop(0.03, #72c6e4) );
    }

    .flex_space-bettween {
        display: flex;
        justify-content: space-between;
    }

    .scrollHorizontal__wrapper {
        text-align: right;
        width: 835px;
        overflow-x: auto;
        overflow-y: hidden;
        white-space: nowrap;
    }

    #divDefaultSetting .accordion-scroll {
        max-height: 100%;
        height: 100%;
        overflow: initial;
    }
</style>
<div class="scrollHorizontal__wrapper clearfix">
    <div id="lastUpdateInfor" style="width:50%; display: inline-block;"></div>
    <br />

    <div class="clearfix testPreferences__panel testPreferences__panel--TestAssignment">
        <div class="btn__overall1 btn__setting active__state">
            <span>
                Overall Test
            </span>
        </div>
    </div>
</div>
<div class="sections__main1 hide">
    <div id="settings_sections_default">
        <sections_wrapper></sections_wrapper>
    </div>
</div>

<div id="accordion-preferences-setting" class="accordion overall__settings1 accordion-scroll">
    <header class="accordion-title first active">
        <h3>Navigation/Display</h3>
    </header>
    <article class="accordion-content active">
        <table class="table table-accordion u-w-p-100">
            <tbody>
                <tr>
                    <td class="w-370 table-accordion-title">Section-Based Testing</td>
                    <td class="w-380">
                        <label id="lblsectionBasedTesting"></label>
                    </td>
                </tr>
                <tr>
                    <td class="table-accordion-title">Auto Advance</td>
                    <td class="">
                        <label id="lblautoAdvanceTest"></label>
                    </td>
                </tr>
                <tr>
                    <td class="table-accordion-title">Must Answer All Questions</td>
                    <td>
                        <div class="wrapper flex_space-bettween">
                            <div>
                                <label id="lblmustAnswerAllQuestions"></label>
                            </div>
                            <div class="cb__sectionLevel">
                                <label id="mustAnswerAllQuestionsSectionItems1" class='setAtSectionLvl'>Set at Section Level</label>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td class="table-accordion-title">Can Pause Test</td>
                    <td>
                        <label id="lblcanPauseTest"></label>
                    </td>
                </tr>
                <tr>
                    <td class="table-accordion-title">Display Answer Labels</td>
                    <td>
                        <label id="lbldisplayAnswerLabels"></label>
                    </td>
                </tr>
                <tr>
                    <td class="table-accordion-title">
                        Display Question Number
                    </td>
                    <td>
                        <label id="lbldisplayQuestionNumber"></label>
                    </td>
                </tr>
                <tr>
                    <td class="table-accordion-title">Answer Label Format</td>
                    <td>
                        <label id="lblanswerLabelFormat"></label>
                    </td>
                </tr>
                <tr>
                    <td class="table-accordion-title">Passage Position in Test Taker</td>
                    <td>
                        <label id="lblpassagePositioninTestTaker"></label>
                    </td>
                </tr>
                <tr>
                    <td class="table-accordion-title">Display Answer Choice Guidance</td>
                    <td>
                        <label id="lbldisplayAnswerChoiceGuidance"></label>
                    </td>
                </tr>
                @if (Model.IsSupportQuestionGroup)
                {
                    <tr>
                        <td class="table-accordion-title">Question Number Labeling for Grouped Questions</td>
                        <td>
                            <label id="lblquestiongrouplabelschema"></label>
                        </td>
                    </tr>
                    <tr>
                        <td class="table-accordion-title">Question Group Multiple Choices Numbering</td>
                        <td>
                            <label id="lblquestiongroupmultiplechoicesnumbering"></label>
                        </td>
                    </tr>
                }
                <tr class='sectionAvailability__wrapper'>
                    <td class="table-accordion-title">Section Availability</td>
                    <td>
                        <label id="lblsectionAvailability"></label>
                        @if (ViewBag.IsEditable && ViewBag.IsSectionAvailabilityEditable)
                        {
                            <div>
                                <img src="/Content/themes/Constellation/images/icons/fugue/pencil.png" id="btnEnableEditSectionAvailability" width="16" height="16" style="float:right;margin-top:-28px;cursor:pointer;">
                            </div>
                        }
                    </td>
                </tr>
                <tr class='sectionAvailability__wrapper'>
                    <td colspan="2">
                        <div class="sectionsAvailabilityList1">
                            <table></table>
                        </div>
                    </td>
                </tr>
                @if (ViewBag.IsEditable && ViewBag.IsSectionAvailabilityEditable)
                {
                    <tr class='sectionAvailability_Edit_wrapper' style="display:none">
                        <td class="table-accordion-title">
                            Section Availability
                        </td>
                        <td>
                            <input type="radio" value="0" name="sectionAvailability_Edit" checked="checked" id="sectionAvailability1_Edit" />
                            <label for="sectionAvailability1_Edit">OFF</label>
                            <input type="radio" value="1" name="sectionAvailability_Edit" id="sectionAvailability2_Edit" />
                            <label for="sectionAvailability2_Edit">ON</label>
                        </td>
                    </tr>
                    <tr class='sectionAvailability_Edit_wrapper' style="display:none">
                        <td colspan="2">
                            <div class="sectionsAvailabilityList1_Edit" style="display:none">
                                <table></table>

                            </div>
                            <div class="buttons-set">
                                <button class="float-right" id="btnSaveSectionAvailabilityList" type="button">Save</button>
                                <button class="float-right" id="btnCancelSectionAvailabilityList" type="button">Cancel</button>
                            </div>
                        </td>
                    </tr>
                }

            </tbody>
        </table>
    </article>
    <header class="accordion-title"><h3>Security and Privacy</h3></header>
    <article class="accordion-content active">
        <table class="table table-accordion u-w-p-100">
            <tbody>
                <tr>
                    <td class="w-370 table-accordion-title">@LocalizeHelper.Localized("STUDENT_AGREEMENT_TITLE")</td>
                    <td class="w-380">
                        <label id="lblrequireHonorCode"></label>
                    </td>
                </tr>
                <tr>
                    <td class="w-370 table-accordion-title">Require Password</td>
                    <td class="w-380">
                        <label id="lblverifyStudent"></label>
                    </td>
                </tr>
                <tr>
                    <td class="table-accordion-title">Shuffle Questions</td>
                    <td>
                        <label id="lblshuffleQuestions"></label>
                    </td>
                </tr>
                <tr>
                    <td class="table-accordion-title">Shuffle Multiple Choice Answers</td>
                    <td>
                        <label id="lblshuffleAnswers"></label>
                    </td>
                </tr>
                <tr>
                    <td class="table-accordion-title">
                        Full Screen Browser Mode
                    </td>
                    <td>
                        <label id="lbllockedDownTestTaker"></label>
                    </td>
                </tr>
                <tr>
                    <td class="table-accordion-title">
                        Override Auto Graded Items
                    </td>
                    <td>
                        <label id="lbloverrideAutoGradedTextEntry"></label>
                    </td>
                </tr>
                <tr>
                    <td class="table-accordion-title">
                        Browser Lockdown Mode
                    </td>
                    <td>
                        <label id="lblbrowserLockdownMode"></label>
                    </td>
                </tr>
                <tr>
                    <td class="table-accordion-title">
                        Anonymized Scoring
                    </td>
                    <td>
                        <label id="lblanonymizedScoring"></label>
                    </td>
                </tr>
            </tbody>
        </table>
    </article>
    <header class="accordion-title"><h3>Accommodations</h3></header>
    <article class="accordion-content">
        <table class="table table-accordion u-w-p-100">
            <tbody>
                <tr>
                    <td class="w-370 table-accordion-title">Time Limit</td>
                    <td class="w-380">
                        <div class="wrapper flex_space-bettween">
                            <div>
                                <label id="lbltimeLimit"></label>
                                <input type="hidden" id="hdfDurationId" value="@Model.Duration" />
                                <input type="hidden" id="hdfDdeadlineId" value="@Model.Deadline" />
                                <input type="hidden" id="hdfDurationType" value="@Model.TimeLimitDurationType" />
                                @*<input type="hidden" id="vTimeLimitDurationValue" value="@Model.Duration" />
                                    <input type="hidden" id="vTimeLimitDeadLine" value="@Model.Deadline" />*@
                                <input type="hidden" id="vTimeLimitShowWarning" />
                            </div>
                            <div class="cb__sectionLevel">
                                <label id="timeLimitSectionItems1" class='setAtSectionLvl'>Set at Section Level</label>
                            </div>
                        </div>
                    </td>
                </tr>

                <tr id="trTimeLimitShowTimeLimitWarning">
                    <td class="table-accordion-title">
                        Show Time Limit Warning
                    </td>
                    <td>
                        <label id="lblshowTimeLimitWarning"></label>
                    </td>
                </tr>

                <tr id="testScheduleDetail">
                    <td colspan="2" style="padding: 0;">
                        <table style="width: 100%;">
                            <tr>
                                <td class="w-370 table-accordion-title">
                                    Test Schedule
                                </td>
                                <td class="w-380">
                                    <label id="lbltestSchedule">OFF</label>
                                    @if (ViewBag.IsEditable && ViewBag.AllowAdjustTestChedule != null && ViewBag.AllowAdjustTestChedule && ViewBag.IsTestScheduleEditable)
                                    {
                                        <div class="test-schedule-action-group">
                                            <input type="radio" value="0" name="testSchedule" id="testSchedule0" class="test-schedule-action" /> <label for="testSchedule0">OFF</label>
                                            <input type="radio" value="1" name="testSchedule" id="testSchedule1" class="test-schedule-action" /> <label for="testSchedule1">ON</label>
                                        </div>
                                        <div>
                                            <img src="/Content/themes/Constellation/images/icons/fugue/pencil.png" id="btnEnableEditScheduleMode" width="16" height="16" style="float:right;margin-top:-28px;cursor:pointer;">
                                        </div>
                                    }
                                </td>
                            </tr>
                        </table>
                        <section class="test-schedule-container-view test-schedule-container testScheduleDetail">
                            <h4>Activate test assignments based on date and time</h4>
                            <section class="test-schedule-form">
                                <section>
                                    <h5>Active Period</h5>
                                    <span class="test-schedule-label">From: </span><input type="text" class="datepicker" id="testScheduleFromDateView" name="testScheduleFromDateView" readonly="readonly" />
                                    <span class="test-schedule-label">To: </span><input type="text" class="datepicker" id="testScheduleToDateView" name="testScheduleToDateView" readonly="readonly" />
                                    <h5>Days of Week</h5>
                                    <table class="day-of-week">
                                        <tr>
                                            <td class="non-hover">Mon</td>
                                            <td class="non-hover">Tue</td>
                                            <td class="non-hover">Wed</td>
                                            <td class="non-hover">Thu</td>
                                            <td class="non-hover">Fri</td>
                                            <td class="non-hover">Sat</td>
                                            <td class="non-hover">Sun</td>
                                        </tr>
                                        <tr class="non-padding">
                                            <td><input type="checkbox" name="testScheduleDayOfWeekView" value="Mon" /></td>
                                            <td><input type="checkbox" name="testScheduleDayOfWeekView" value="Tue" /></td>
                                            <td><input type="checkbox" name="testScheduleDayOfWeekView" value="Wed" /></td>
                                            <td><input type="checkbox" name="testScheduleDayOfWeekView" value="Thu" /></td>
                                            <td><input type="checkbox" name="testScheduleDayOfWeekView" value="Fri" /></td>
                                            <td><input type="checkbox" name="testScheduleDayOfWeekView" value="Sat" /></td>
                                            <td><input type="checkbox" name="testScheduleDayOfWeekView" value="Sun" /></td>
                                        </tr>
                                    </table>
                                    <h5>Active Hours</h5>
                                    @if (ViewBag.IsEditable && ViewBag.IsTestScheduleEditable)
                                    {
                                        <div>
                                            <input type="checkbox" id="alway-open" name="alway-open" />&nbsp;<label for="alway-open">Always open</label>
                                        </div>
                                    }

                                    <table class="active-hours">
                                        <tr>
                                            <td class="non-hover">Test Taking Hours - Start</td>
                                            <td class="non-hover">Test Taking Hours - End</td>
                                        </tr>
                                        <tr>
                                            <td><input type="time" id="testScheduleStartTimeView" name="testScheduleStartTimeView" /></td>
                                            <td><input type="time" id="testScheduleEndTimeView" name="testScheduleEndTimeView" /></td>
                                        </tr>
                                    </table>
                                </section>
                            </section>
                        </section>
                        @if (ViewBag.IsEditable && ViewBag.AllowAdjustTestChedule != null && ViewBag.AllowAdjustTestChedule && ViewBag.IsTestScheduleEditable)
                        {
                            <div class="buttons-set">
                                <button class="float-right" id="btnSaveSchedule" type="button">Save</button>
                                <button class="float-right" id="btnCancelSchedule" type="button">Cancel</button>
                            </div>
                        }
                    </td>
                </tr>

                <tr>
                    <td class="table-accordion-title">Multiple Choice Click Method</td>
                    <td>
                        <label id="lblmultipleChoiceClickMethod"></label>
                    </td>
                </tr>
                <tr>
                    <td class="table-accordion-title">Enable Video Controls</td>
                    <td>
                        <label id="lblenableVideoControls"></label>
                    </td>
                </tr>
                <tr>
                    <td class="table-accordion-title">
                        Enable Audio
                    </td>
                    <td>
                        <label id="lblenableAudio"></label>
                    </td>
                </tr>
                <tr>
                    <td class="table-accordion-title">
                        Font Size
                    </td>
                    <td>
                        <label id="lblsupportFontsize"></label>
                    </td>
                </tr>
                <tr>
                    <td class="table-accordion-title">
                        Zoom
                    </td>
                    <td>
                        <label id="lblsupportZoom"></label>
                    </td>
                </tr>
                <tr>
                    <td class="table-accordion-title">
                        Contrast
                    </td>
                    <td>
                        <label id="lblsupportContrast"></label>
                    </td>
                </tr>
                <tr>
                    <td class="table-accordion-title">
                        Line Reader
                    </td>
                    <td>
                        <label id="lblsupportLineReader"></label>
                    </td>
                </tr>
                <tr>
                    <td class="table-accordion-title">Enable Text-To-Speech</td>
                    <td>
                        <label id="lbldisplayTexttospeechOption"></label>
                    </td>
                </tr>
            </tbody>
        </table>
    </article>
    <header class="accordion-title"><h3>Tools</h3></header>
    <article class="accordion-content">
        <table class="table table-accordion u-w-p-100">
            <tbody>
                <tr>
                    <td class="w-370 table-accordion-title">Basic Science Palette</td>
                    <td class="w-380">
                        <div class="wrapper flex_space-bettween">
                            <div>
                                <label id="lblsimplePalette"></label>
                            </div>

                            <div class="cb__sectionLevel">
                                <label id="simplePaletteSectionItems1" class='setAtSectionLvl'>Set at Section Level</label>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td class="w-370 table-accordion-title">Math/Science Palette</td>
                    <td class="w-380">
                        <div class="wrapper flex_space-bettween">
                            <div>
                                <label id="lblmathPalette"></label>
                            </div>

                            <div class="cb__sectionLevel">
                                <label id="mathPaletteSectionItems1" class='setAtSectionLvl'>Set at Section Level</label>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td class="table-accordion-title">Spanish Palette</td>
                    <td>

                        <div class="wrapper flex_space-bettween">
                            <div>
                                <label id="lblspanishPalette"></label>
                            </div>

                            <div class="cb__sectionLevel">
                                <label id="spanishPaletteSectionItems1" class='setAtSectionLvl'>Set at Section Level</label>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td class="table-accordion-title">French Palette</td>
                    <td>
                        <div class="wrapper flex_space-bettween">
                            <div>
                                <label id="lblfrenchPalette"></label>
                            </div>

                            <div class="cb__sectionLevel">
                                <label id="frenchPaletteSectionItems1" class='setAtSectionLvl'>Set at Section Level</label>
                            </div>
                        </div>

                    </td>
                </tr>
                <tr>
                    <td class="table-accordion-title">Protractor</td>
                    <td>
                        <div class="wrapper flex_space-bettween">
                            <div>
                                <label id="lblprotractor"></label>
                            </div>

                            <div class="cb__sectionLevel">
                                <label id="protractorSectionItems1" class='setAtSectionLvl'>Set at Section Level</label>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td class="table-accordion-title">6" Ruler</td>
                    <td>
                        <div class="wrapper flex_space-bettween">
                            <div>
                                <label id="lblruler6inch"></label>
                            </div>
                            <div class="cb__sectionLevel">
                                <label id="ruler6inchSectionItems1" class='setAtSectionLvl'>Set at Section Level</label>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td class="table-accordion-title">12" Ruler</td>
                    <td>
                        <div class="wrapper flex_space-bettween">
                            <div>
                                <label id="lblruler12inch"></label>
                            </div>
                            <div class="cb__sectionLevel">
                                <label id="ruler12inchSectionItems1" class='setAtSectionLvl'>Set at Section Level</label>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td class="table-accordion-title">15cm Ruler</td>
                    <td>
                        <div class="wrapper flex_space-bettween">
                            <div>
                                <label id="lblruler15cm"></label>
                            </div>
                            <div class="cb__sectionLevel">
                                <label id="ruler15cmSectionItems1" class='setAtSectionLvl'>Set at Section Level</label>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td class="table-accordion-title">30cm Ruler</td>
                    <td>
                        <div class="wrapper flex_space-bettween">
                            <div>
                                <label id="lblruler30cm"></label>
                            </div>
                            <div class="cb__sectionLevel">
                                <label id="ruler30cmSectionItems1" class='setAtSectionLvl'>Set at Section Level</label>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td class="table-accordion-title">
                        Standard Calculator
                    </td>
                    <td>
                        <div class="wrapper flex_space-bettween">
                            <div>
                                <label id="lblsupportCalculator"></label>
                            </div>

                            <div class="cb__sectionLevel">
                                <label id="supportCalculatorSectionItems1" class='setAtSectionLvl'>Set at Section Level</label>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td class="table-accordion-title">
                        Scientific Calculator
                    </td>
                    <td>
                        <div class="wrapper flex_space-bettween">
                            <div>
                                <label id="lblscientificCalculator"></label>
                            </div>

                            <div class="cb__sectionLevel">
                                <label id="scientificCalculatorSectionItems1" class='setAtSectionLvl'>Set at Section Level</label>
                            </div>
                        </div>

                    </td>
                </tr>
                @if (ViewBag.HideSupportHighlightText != null && ViewBag.HideSupportHighlightText == "false")
                {<text>
                        <tr>
                            <td class="table-accordion-title">
                                Support Highlight Text
                            </td>
                            <td>
                                <div class="wrapper flex_space-bettween">
                                    <div>
                                        <label id="lblsupportHighlightText"></label>
                                    </div>

                                    <div class="cb__sectionLevel">
                                        <label id="supportHighlightTextSectionItems1" class='setAtSectionLvl'>Set at Section Level</label>
                                    </div>
                                </div>


                            </td>
                        </tr>
                </text>}
                <tr>
                    <td class="table-accordion-title">
                        Eliminate Choice Tool
                    </td>
                    <td>
                        <div class="wrapper flex_space-bettween">
                            <div>
                                <label id="lbleliminateChoiceTool"></label>
                            </div>

                            <div class="cb__sectionLevel">
                                <label id="eliminateChoiceToolSectionItems1" class='setAtSectionLvl'>Set at Section Level</label>
                            </div>
                        </div>

                    </td>
                </tr>
                <tr>
                    <td class="table-accordion-title">
                        Flag Item Tool
                    </td>
                    <td>
                        <div class="wrapper flex_space-bettween">
                            <div>
                                <label id="lblflagItemTool"></label>
                            </div>

                            <div class="cb__sectionLevel">
                                <label id="flagItemToolSectionItems1" class='setAtSectionLvl'>Set at Section Level</label>
                            </div>
                        </div>


                    </td>
                </tr>
                <tr>
                    <td class="table-accordion-title">
                        Equation Editor
                    </td>
                    <td>
                        <div class="wrapper flex_space-bettween">
                            <div>
                                <label id="lblequationeditor"></label>
                            </div>

                            <div class="cb__sectionLevel">
                                <label id="equationeditorSectionItems1" class='setAtSectionLvl'>Set at Section Level</label>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td class="table-accordion-title">
                        Drawing Tool
                    </td>
                    <td>
                        <div class="wrapper flex_space-bettween">
                            <div>
                                <label id="lbldrawingTool"></label>
                            </div>

                            <div class="cb__sectionLevel">
                                <label id="drawingToolSectionItems1" class='setAtSectionLvl'>Set at Section Level</label>
                            </div>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
    </article>
    <header class="accordion-title last"><h3>Other</h3></header>
    <article class="accordion-content">
        <table class="table table-accordion u-w-p-100 last">
            <tbody>
                <tr>
                    <td class="w-370 table-accordion-title">
                        Can Review Test
                    </td>
                    <td class="w-380">
                        <label id="lblcanReviewTest"></label>
                    </td>
                </tr>
                <tr>
                    <td class="table-accordion-title">Hide Correct Answers and Grading Results in Student Review</td>
                    <td>
                        <label id="lblhideCorrectAnswerAndGrading"></label>
                    </td>
                </tr>
                @if (Model.TestExtractOptions.IsUseTestExtract)
                {
                    <tr>
                        <td class="table-accordion-title">
                            Test Extract
                        </td>
                        <td>
                            <label id="lbltestExtract"></label>
                        </td>
                    </tr>

                    if (Model.TestExtractOptions.ShowRawOrPercentOption)
                    {
                        <tr>
                            <td class="table-accordion-title">Exported Score</td>
                            <td>
                                <label id="lbltestExtractExportRawScore"></label>
                            </td>
                        </tr>
                    }
                }
                @if (Model.VirtualTestSubTypeID == 4)
                {
                    <tr>
                        <td class="table-accordion-title">Adaptive Test</td>
                        <td>
                            <label id="lbladaptiveTest"></label>
                        </td>
                    </tr>
                }
                @if (Model.NavigationMethodID == (int)NavigationMethodEnum.NORMAL_BRANCHING
        || Model.NavigationMethodID == (int)NavigationMethodEnum.SECTION_BASE_BRANCHING
        || Model.NavigationMethodID == (int)NavigationMethodEnum.ALGORITHMIC_BRANCHING)
                {
                    <tr>
                        <td class="table-accordion-title">Navigation Method</td>
                        <td>
                            <label id="lblbranchingTest"></label>
                        </td>
                    </tr>
                }
                <tr>
                    <td class="table-accordion-title">Show Test Instructions</td>
                    <td>
                        <label id="lblshowTestInstructions"></label>
                    </td>
                </tr>
                <tr>
                    <td class="table-accordion-title">Show Incomplete Answer Warning</td>
                    <td>
                        <label id="lblshowIncompleteAnswerWarning"></label>
                    </td>
                </tr>
            </tbody>
        </table>
    </article>
    <input id="idIsUseTestExtract" type="hidden" value="@Model.IsUseTestExtract.ToString()" />
    <input id="idVirtualTestSubTypeID" type="hidden" value="@Model.VirtualTestSubTypeID" />
    <input id="idVirtualTestSourceID" type="hidden" value="@Model.VirtualTestSourceId" />
    <input id="idNavigationMethodID" type="hidden" value="@Model.NavigationMethodID" />
</div>

<script>
    testPreferenceModel = @Html.Raw(Json.Encode(Model.TestPreferenceModel));
    $(function ()
    {
        testExtractOptions = @Html.Raw(Json.Encode(Model.TestExtractOptions));
       @if (Model.SettingLevel != "")
        {
            <text>
        $('#hdfPreferenceLevel').val('@Model.SettingLevel');
        </text>
        }

        @if (Model.ShowAssignmentSettings)
        {
            <text>
                BuildDistrictSettings();
                $('#hdfIsLockedbank').val('0');
                $('#aDistrictSetting').show();
                $('#btnChangeSettingGray').hide();
            </text>
        }
        else
        {
             <text>
                $('#aDistrictSetting').hide();
                $('#btnChangeSettingGray').show();
                $('#hdfIsLockedbank').val('1');
            </text>
        }

        FillReadOnlyPreferences('@ViewBag.IsReview');
        lastUpdatedString = '';
        if ('@ViewBag.LastUpdatedDate' && '@ViewBag.LastUpdatedDate' != '') {
            lastUpdatedString = '<label>Last Update: @ViewBag.LastUpdatedDate</label>';
            $('#lastUpdateInfor').empty();
            $('#lastUpdateInfor').append(lastUpdatedString);
        }
    });
</script>

<script type="text/javascript">
    (function ($) {
        'use strict';
        $('#accordion-preferences-setting .accordion-title').on('click', function () {
            var $self = $(this);
            var $accordionContent = $self.next();

            if ($self.hasClass('active')) {
                $self.removeClass('active');
                $accordionContent.slideUp();
            } else {
                $self.addClass('active');
                $accordionContent.slideDown();
            }
        });
        if ('@ViewBag.IsTeacherOrSchoolAdmin' == 'True') {
            $('input[name="overrideAutoGradedTextEntry"]').attr('disabled', 'disabled');
            $('#chklockOverrideAutoGradedTextEntry').attr('disabled', 'disabled');
        }
    }(jQuery));
</script>

<script>
    var testNavigationMethod = '@Model.NavigationMethodID';
    var testSectionsDefaultSettings = testPreferenceModel.VirtualSections || []
    var sectionsOptionsToolsTagsDefaultSettings = []
    var customSectionsSetttingDefaultSettings = []
    var CAN_EDIT = false
    var CURRENTPAGE = 'TestAssignment'
</script>
<script src="@Url.Content("~/Scripts/TestPreferences/defaultSettingsVue.js")" type="text/javascript"></script>
